<p><link href="http://kevinburke.bitbucket.org/markdowncss/markdown.css" rel="stylesheet"></link></p>

<h1>Shisharka home server</h1>

<h2>services</h2>

<ul>
<li>rsync daemon
<ul>
<li>started by ssh connection wth a special backup key</li>
<li>or started by <code>home_services</code> script</li>
<li>modules defined in rsyncd config
<ul>
<li>backups per user (in ~/backup of the user)</li>
<li>movies</li>
<li>music</li>
<li>pictures</li>
</ul></li>
</ul></li>
<li>minidlna</li>
<li>git repos - bare repos under <code>code/</code></li>
<li>apache
<ul>
<li>run sites from <code>~/sites</code></li>
<li>separate copies from backup
<ul>
<li>owned by apache</li>
<li>contain deploy configuration (nice for testing)</li>
</ul></li>
<li><a href="shisharka/">moin wiki</a></li>
</ul></li>
</ul>

<p>Some services can be managed through the <code>home_services</code> script. A couple of examples:</p>

<pre><code>./home_services.sh rsync start
</code></pre>

<p>to start an rsync daemon (cannot be used with ssh pubkey, though)</p>

<pre><code>./home_services.sh minidlna status
</code></pre>

<p>well, to check the dlna status</p>

<h2>what it does</h2>

<p>One motivating idea is not to have to start the various daemons as root. The daemons are started with configuration to</p>

<ul>
<li>write their pids in files in the <code>pids/</code> directory</li>
<li>write logs in <code>logs/</code></li>
</ul>

<h2>TODO:</h2>

<ul>
<li>get a fucking powered usb hub to use a harddrive</li>
<li>all live code under source control
<ul>
<li>separate from backup </li>
<li>only bare repos?</li>
</ul></li>
</ul>
